"use strict";(self.webpackChunkminima_docs=self.webpackChunkminima_docs||[]).push([[9991],{8611:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var o=t(5893),i=t(1151);const r={sidebar_position:3},a="Pruning",s={id:"buildonminima/txntutorial/pruning",title:"Pruning",description:"To ensure all users on the Minima network can run a Complete node, both validating all transactions and helping in the construction of the chain, all users only keep track of coins and tokens that are relevant to them.",source:"@site/docs/buildonminima/txntutorial/pruning.md",sourceDirName:"buildonminima/txntutorial",slug:"/buildonminima/txntutorial/pruning",permalink:"/docs/buildonminima/txntutorial/pruning",draft:!1,unlisted:!1,editUrl:"https://github.com/minima-global/minidocs/docs/buildonminima/txntutorial/pruning.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Start",permalink:"/docs/buildonminima/txntutorial/start"},next:{title:"Basic signed contract",permalink:"/docs/buildonminima/txntutorial/layer1/basiccontract"}},c={},d=[];function l(n){const e={code:"code",h1:"h1",p:"p",pre:"pre",...(0,i.a)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h1,{id:"pruning",children:"Pruning"}),"\n",(0,o.jsx)(e.p,{children:"To ensure all users on the Minima network can run a Complete node, both validating all transactions and helping in the construction of the chain, all users only keep track of coins and tokens that are relevant to them."}),"\n",(0,o.jsx)(e.p,{children:"All the coin data is stored in an MMR database, a type of hash tree, and when a User wishes to spend a coin they add a proof of its existence to the transaction. This means when using multiple User coins in a single transaction each user may not have all the coin data required."}),"\n",(0,o.jsxs)(e.p,{children:["To assist in this Minima provides useful functions. ",(0,o.jsx)(e.code,{children:"coinimport"})," and ",(0,o.jsx)(e.code,{children:"coinexport"})," allow a User to share coin proofs with other users ( this does not allow the spending of a coin - just the knowledge of its existence ), and ",(0,o.jsx)(e.code,{children:"tokens tokenid: action:export"})," and ",(0,o.jsx)(e.code,{children:"tokens tokenid: action:import data:"})," allows the sharing of token data."]}),"\n",(0,o.jsx)(e.p,{children:"If the coin / token data is recent, in the last 24 hours, then each User will already have all the required data, so this will only apply for older coins."}),"\n",(0,o.jsxs)(e.p,{children:["Let's say you have a coin with coinid : ",(0,o.jsx)(e.code,{children:"0x99ADECBF2579801921017F81F523D396AA2ED125BF8DE7244045F86C7F7B56E0"}),"\r\n(Coin IDs can be found by running ",(0,o.jsx)(e.code,{children:"coins relevant:true"}),")"]}),"\n",(0,o.jsx)(e.p,{children:"To export this coin, so another node can import and now know about this coin:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"coinexport coinid:0x99ADECBF2579801921017F81F523D396AA2ED125BF8DE7244045F86C7F7B56E0\n"})}),"\n",(0,o.jsxs)(e.p,{children:["The command ",(0,o.jsx)(e.code,{children:"response"})," is the coin ",(0,o.jsx)(e.code,{children:"data"})," required to be imported by another user."]}),"\n",(0,o.jsx)(e.p,{children:"Then the other node can import this proof by using:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"coinimport data:0x0000002099ADECBF2579801921017F81F523D396AA2ED125BF8DE7244045F86C7F7B56E000000020E5A95D8CDDA0A66A9EB5180479254B23FFBA427EF20603A83F66F95179D8257D00010A000000010001000100000000010A00000200D30001000000020130000100\n"})}),"\n",(0,o.jsx)(e.p,{children:"A similar set of functions can be run to export and then import token details:"}),"\n",(0,o.jsxs)(e.p,{children:["To export a token: ",(0,o.jsx)(e.code,{children:"tokens tokenid: action:export"})]}),"\n",(0,o.jsxs)(e.p,{children:["To import a token: ",(0,o.jsx)(e.code,{children:"tokens tokenid: action:import data:"})]})]})}function h(n={}){const{wrapper:e}={...(0,i.a)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(l,{...n})}):l(n)}},1151:(n,e,t)=>{t.d(e,{Z:()=>s,a:()=>a});var o=t(7294);const i={},r=o.createContext(i);function a(n){const e=o.useContext(r);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),o.createElement(r.Provider,{value:e},n.children)}}}]);